<!DOCTYPE html>
<html>
<head>
<title>NYILSRV Dashboard</title>
<style>
body{font-family:Arial;background:#f4f4f4;padding:20px}
.box{background:#fff;padding:15px;margin-bottom:20px;border-radius:6px}
table{width:100%;border-collapse:collapse}
th,td{border:1px solid #ccc;padding:8px;text-align:center}
.ON{color:green;font-weight:bold}
.OFF{color:red;font-weight:bold}
.ONLINE{color:green}
.OFFLINE{color:red}
</style>
</head>
<body>

<div class="box">
<h2>Auto Rotate</h2>
<form method="post" action="/set">
<label>
<input type="checkbox" name="enabled" {% if cfg.enabled %}checked{% endif %}>
Enable
</label>
<br><br>
<select name="interval">
<option value="1500" {% if cfg.interval==1500 %}selected{% endif %}>25 Menit</option>
<option value="2100" {% if cfg.interval==2100 %}selected{% endif %}>35 Menit</option>
<option value="3600" {% if cfg.interval==3600 %}selected{% endif %}>1 Jam</option>
<option value="7200" {% if cfg.interval==7200 %}selected{% endif %}>2 Jam</option>
<option value="10800" {% if cfg.interval==10800 %}selected{% endif %}>3 Jam</option>
</select>
<button>Simpan</button>
</form>
</div>

<div class="box">
<h2>Client Status</h2>
<table>
<tr>
<th>No</th>
<th>Hostname</th>
<th>IP</th>
<th>ON/OFF</th>
<th>State</th>
<th>Last Seen</th>
</tr>

{% for c in clients %}
<tr>
<td>{{ loop.index }}</td>
<td>{{ c.hostname }}</td>
<td>{{ c.ip }}</td>
<td class="{{ 'ON' if cfg.active==c.hostname else 'OFF' }}">
{{ 'ON' if cfg.active==c.hostname else 'OFF' }}
</td>
<td class="{{ c.state }}">{{ c.state }}</td>
<td>{{ c.ago }} detik lalu</td>
</tr>
{% else %}
<tr><td colspan="6">Belum ada client</td></tr>
{% endfor %}

</table>
</div>

<script>
setTimeout(()=>location.reload(),5000)
</script>

</body>
</html>
